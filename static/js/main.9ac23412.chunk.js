(this.webpackJsonpreactreduxshop=this.webpackJsonpreactreduxshop||[]).push([[0],{189:function(e,t,r){e.exports=r(361)},194:function(e,t,r){},360:function(e,t,r){},361:function(e,t,r){"use strict";r.r(t);var n={};r.r(n),r.d(n,"setBooks",(function(){return p}));var c={};r.r(c),r.d(c,"setFilter",(function(){return P})),r.d(c,"setSearchQuery",(function(){return w}));var a={};r.r(a),r.d(a,"addToCart",(function(){return Q})),r.d(a,"removeFromCart",(function(){return L}));var o=r(0),i=r.n(o),u=r(29),l=r.n(u),s=(r(194),r(16)),p=function(e){return{type:"SET_BOOKS",payload:e}},O=r(18),f=r(24),b=r(45),y=r(46),m=r(47),j=r(50),d=r(51),v=r(163),h=r.n(v),g=r(369),E=r(372),P=function(e){return{type:"SET_FILTER",payload:e}},w=function(e){return{type:"SET_QUERY",payload:e}},D=r(373),S=r(368),k=function(e){var t=e.setFilter,r=e.filterBy,n=e.searchQuery,c=e.setSearchQuery;return i.a.createElement(D.a,{secondary:!0},i.a.createElement(D.a.Item,{active:"all"===r,onClick:t.bind(void 0,"all")},"\u0412\u0441\u0435"),i.a.createElement(D.a.Item,{active:"price_high"===r,onClick:t.bind(void 0,"price_high")},"\u0426\u0435\u043d\u044b(\u0434\u043e\u0440\u043e\u0433\u0438\u0435)"),i.a.createElement(D.a.Item,{active:"price_low"===r,onClick:t.bind(void 0,"price_low")},"\u0426\u0435\u043d\u044b(\u043d\u0438\u0437\u043a\u0438\u0435)"),i.a.createElement(D.a.Item,{active:"author"===r,onClick:t.bind(void 0,"author")},"\u0410\u0432\u0442\u043e\u0440"),i.a.createElement(D.a.Item,null,i.a.createElement(S.a,{icon:"search",value:n,onChange:function(e){return c(e.target.value)},placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0447\u0442\u043e-\u0442\u043e"})))};function C(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var _=Object(f.b)((function(e){e.filterBy;return{filterBy:e.books.filterBy}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?C(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):C(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(O.b)(c,e))}))(k),R=r(371),I=r(362),T=r(178),B=r(370),F=function(e){var t=e.title,r=e.id,n=e.removeFromCart,c=e.image,a=e.countItems;return i.a.createElement(R.a,{divided:!0,verticalAlign:"middle"},i.a.createElement(R.a.Item,null,i.a.createElement(R.a.Content,{floated:"right"},i.a.createElement(I.a,{onClick:n.bind(void 0,r),color:"red"},"\u0423\u0434\u0430\u043b\u0438\u0442\u044c")),i.a.createElement(T.a,{avatar:!0,src:c}),i.a.createElement(R.a.Content,null,t," ",JSON.parse(a)[t]>1&&"(".concat(JSON.parse(a)[t],")"))))},A=function(e){var t=e.totalPrice,r=e.count,n=e.items,c=e.countItems;return i.a.createElement(D.a,null,i.a.createElement(D.a.Item,{name:"editorials"},"\u041c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u043d\u0438\u0433"),i.a.createElement(D.a.Menu,{position:"right"},i.a.createElement(D.a.Item,{name:"reviews"},"\u0418\u0442\u043e\u0433\u043e:\xa0",i.a.createElement("b",null,t),"\u0440\u0443\u0431"),i.a.createElement(B.a,{trigger:i.a.createElement(D.a.Item,{name:"help"},"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 (",r,")"),content:n.map((function(e,t){return i.a.createElement(F,Object.assign({key:t},e,{countItems:c}))})),on:"click",hideOnScroll:!0})))},Q=function(e){return{type:"ADD_TO_CARD",payload:e}},L=function(e){return{type:"REMOVE_FROM_CART",payload:e}},M=r(176),x=r.n(M);function J(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var N=Object(f.b)((function(e){var t=e.cart;e.id;return{totalPrice:t.items.reduce((function(e,t){return e+t.price}),0),count:t.items.length,items:x()(t.items,(function(e){return e.id})),countItems:JSON.stringify(t.items.reduce((function(e,t){return e[t.title]=(e[t.title]||0)+1,e}),{}),null,2)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?J(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):J(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(O.b)(a,e))}))(A),U=r(33),Y=function(e){var t=e.title,r=e.author,n=e.price,c=e.image,a=e.addToCart,o=e.addedCount;return i.a.createElement(E.a,null,i.a.createElement(T.a,{src:c,wrapped:!0,ui:!1}),i.a.createElement(E.a.Content,null,i.a.createElement(E.a.Header,null,t),i.a.createElement(E.a.Meta,null,i.a.createElement("span",{className:"date"},r))),i.a.createElement(E.a.Content,{extra:!0},i.a.createElement("a",{href:"true"},i.a.createElement(U.a,{name:"rub"}),n)),i.a.createElement(I.a,{onClick:a.bind(void 0,e)},"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443 ",o>0&&"(".concat(o,")")))};function K(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var V=Object(f.b)((function(e,t){var r=e.cart,n=t.id;return{addedCount:r.items.reduce((function(e,t){return e+(t.id===n?1:0)}),0)}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?K(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):K(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(O.b)(a,e))}))(Y),G=function(e){function t(){return Object(b.a)(this,t),Object(m.a)(this,Object(j.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(y.a)(t,[{key:"UNSAFE_componentWillMount",value:function(){var e=this.props.setBooks;h.a.get("books.json").then((function(t){var r=t.data;e(r)}))}},{key:"render",value:function(){var e=this.props,t=e.books,r=e.isReady,n=e.setFilter;return i.a.createElement(g.a,null,i.a.createElement(N,null),i.a.createElement(_,{setFilter:n}),i.a.createElement(E.a.Group,{itemsPerRow:4},r?t.map((function(e,t){return i.a.createElement(V,Object.assign({},e,{key:t}))})):"Loading..."))}}]),t}(o.Component),H=r(84),W=r.n(H);function q(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}var z=function(e,t,r){return function(e,t){switch(t){case"all":return e;case"price_high":return W()(e,"price","desc");case"price_low":return W()(e,"price","asc");case"author":return W()(e,"author","asc");default:return e}}(function(e,t){return e.filter((function(e){return e.title.toLowerCase().indexOf(t.toLowerCase())>=0||e.author.toLowerCase().indexOf(t.toLowerCase())>=0}))}(e,r),t)},X=Object(f.b)((function(e){var t=e.books,r=e.filter;return{books:t.items&&z(t.items,r.filterBy,r.searchQuery),isReady:t.isReady}}),(function(e){return function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?q(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):q(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},Object(O.b)(n,e))}))(G),Z=r(177),$=r.n(Z);function ee(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function te(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ee(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ee(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var re={isReady:!1,items:null},ne=r(179);function ce(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ae(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ce(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ce(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var oe={items:[]};function ie(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ue(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ie(Object(r),!0).forEach((function(t){Object(s.a)(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ie(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var le={searchQuery:"",filterBy:"all"},se=Object(O.c)({books:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:re,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_BOOKS":return te({},e,{items:t.payload,isReady:!0});case"SET_IS_READY":return te({},e,{isReady:t.payload});default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_TO_CARD":return ae({},e,{items:[].concat(Object(ne.a)(e.items),[t.payload])});case"REMOVE_FROM_CART":return ae({},e,{items:e.items.filter((function(e){return e.id!==t.payload}))});default:return e}},filter:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:le,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_FILTER":return ue({},e,{filterBy:t.payload});case"SET_QUERY":return ue({},e,{searchQuery:t.payload});default:return e}}}),pe=(r(359),r(360),Object(O.d)(se,Object(O.a)($.a)));l.a.render(i.a.createElement(f.a,{store:pe},i.a.createElement(X,null)),document.getElementById("root"))}},[[189,1,2]]]);
//# sourceMappingURL=main.9ac23412.chunk.js.map